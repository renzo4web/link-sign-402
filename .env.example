# Environment Variables for link-sign-402
# 
# ⚠️ IMPORTANT: Copy this file to .env and fill in the required values
# ⚠️ All variables are REQUIRED - no fallbacks, the app will fail if any are missing
# ⚠️ Never commit .env to git - it contains secrets

# ==============================================================================
# SERVER-ONLY SECRETS (NO VITE_ PREFIX)
# These are NEVER exposed to the client and contain sensitive information
# ==============================================================================

# Coinbase Developer Platform API Keys (OPTIONAL)
# Get from: https://portal.cdp.coinbase.com/
#
# If set: Uses CDP facilitator (api.cdp.coinbase.com/platform/v2/x402)
#         Supports both testnet (base-sepolia) and mainnet (base)
#
# If NOT set: Falls back to x402.org/facilitator (testnet only)
#
CDP_API_KEY_ID=""
CDP_API_KEY_SECRET=""

# Blockchain Configuration (Server-side - source of truth)
PAY_TO_ADDRESS="0x7cAb494A110172Bc14852Ce983d567aF438a6Ae2"  # Wallet address that receives payments
PAYMENT_CREATE_PRICE="$0.25"                                  # Price for POST /api/create (server validates this)
PAYMENT_SIGN_PRICE="$0.10"                                    # Price for POST /api/sign (server validates this)
BLOCKCHAIN_NETWORK="base-sepolia"                             # Network: base-sepolia, base, sepolia, mainnet
CONTRACT_ADDRESS="0x7cAb494A110172Bc14852Ce983d567aF438a6Ae2"  # Smart contract address

# RPC URL for onchain reads/writes (Base Sepolia example)
BLOCKCHAIN_RPC_URL="https://sepolia.base.org"

# Optional: override the CAIP-2 chainRef stored on-chain
# (If omitted, server derives from BLOCKCHAIN_NETWORK)
BLOCKCHAIN_CHAIN_REF="eip155:84532"

# Pinata (Server-side) - used to pin PDFs to IPFS
PINATA_JWT="your-pinata-jwt-here"
PINATA_GATEWAY="example-gateway.mypinata.cloud"

# Server wallet (Server-side) - used to submit AgreementOracle txs
# ⚠️ Never commit a real key. Use a test wallet for MVP.
SERVER_WALLET_PRIVATE_KEY="0x0000000000000000000000000000000000000000000000000000000000000000"

# ==============================================================================
# CLIENT-SAFE PUBLIC VARIABLES (VITE_ PREFIX REQUIRED)
# These are bundled into the client JavaScript and visible to users
# ⚠️ NEVER put secrets here - they will be public in your JS bundle
# ==============================================================================
# Payment Display (⚠️ MUST MATCH PAYMENT_* above!)
VITE_PAYMENT_CREATE_PRICE="$0.25"                   # Price shown to users (must match server PAYMENT_CREATE_PRICE)
VITE_PAYMENT_SIGN_PRICE="$0.10"                     # Price shown to users (must match server PAYMENT_SIGN_PRICE)

# Blockchain Display
VITE_BLOCKCHAIN_NETWORK="Base Sepolia"              # Human-readable network name for UI

# ==============================================================================
# NOTES
# ==============================================================================
# 
# 1. All variables are loaded in src/config/env.ts - check there if something fails
# 2. VITE_PAYMENT_* must match PAYMENT_* (server validates the actual price)
# 3. After changing .env:
#    - Restart dev server: pnpm dev
#    - Sync to Wrangler: pnpm sync-wrangler (auto-generates .dev.vars)
# 4. For Cloudflare Workers production, set variables via:
#    - Secrets: wrangler secret put <KEY>
#    - Public vars: Add to wrangler.jsonc "vars" section